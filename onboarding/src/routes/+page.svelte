<script>
  import { onMount } from 'svelte';

  onMount(async () => {
    try {
        // POI ë°ì´í„° ë¡œë“œ ë° ì €ì¥
        const poiResponse = await fetch('/poi.json');
        const poiData = await poiResponse.json();
        localStorage.setItem('poiData', JSON.stringify(poiData));

        // POI2 ë°ì´í„° ë¡œë“œ ë° ì €ì¥
        const poi2Response = await fetch('/poi2.json');
        const poiData2 = await poi2Response.json();
        localStorage.setItem('poiData2', JSON.stringify(poiData2));
    } catch (error) {
        console.error('POI ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);
    }
  });

  // localStorage ì´ˆê¸°í™” í•¨ìˆ˜
  async function resetLocalStorage() {
    try {
      // POI ë°ì´í„° ë‹¤ì‹œ ë¡œë“œ
      const poiResponse = await fetch('/poi.json');
      const poiData = await poiResponse.json();
      localStorage.setItem('poiData', JSON.stringify(poiData));

      // POI2 ë°ì´í„° ë‹¤ì‹œ ë¡œë“œ
      const poi2Response = await fetch('/poi2.json');
      const poiData2 = await poi2Response.json();
      localStorage.setItem('poiData2', JSON.stringify(poiData2));

      alert('ë¡œì»¬ìŠ¤í† ë¦¬ì§€ê°€ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.');
    } catch (error) {
      console.error('ì´ˆê¸°í™” ì‹¤íŒ¨:', error);
      alert('ì´ˆê¸°í™” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
    }
  }
</script>

<div class="py-4">
  <article class="prose prose-lg max-w-none">
    <div class="flex justify-between items-center mb-6">
      <h1 class="text-4xl font-bold m-0">PLUXITY Px Engine</h1>
      <button 
        on:click={resetLocalStorage}
        class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors"
      >
        ğŸ”„ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ ì´ˆê¸°í™”
      </button>
    </div>

    <section class="mb-6">
      <h2 class="text-2xl font-bold mb-3">ê°œìš”</h2>
      <p class="text-gray-600">
        PLUXITY Px Engineì€ 3D ì‹œê°í™”ë¥¼ ìœ„í•œ ê°•ë ¥í•œ ì—”ì§„ì…ë‹ˆë‹¤.
        ì´ ë¬¸ì„œì—ì„œëŠ” ì—”ì§„ì˜ ê¸°ë³¸ì ì¸ ì‚¬ìš©ë²•ê³¼ ì£¼ìš” ê¸°ëŠ¥ë“¤ì„ ì„¤ëª…í•©ë‹ˆë‹¤.
      </p>
    </section>

    <section class="mb-6">
      <h2 class="text-2xl font-bold mb-3">ì‹œì‘í•˜ê¸°</h2>
      <p class="text-gray-600">
        ì™¼ìª½ ì‚¬ì´ë“œë°”ì˜ ë©”ë‰´ë¥¼ í†µí•´ ê° ê¸°ëŠ¥ë“¤ì„ ì‚´í´ë³´ì„¸ìš”.
        ì˜ˆì œ ì½”ë“œë¥¼ ì§ì ‘ ì‹¤í–‰í•´ë³´ë©´ì„œ ì—”ì§„ì˜ ë™ì‘ì„ ì´í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      </p>
    </section>
  </article>
</div>
